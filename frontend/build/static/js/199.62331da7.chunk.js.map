{"version":3,"file":"static/js/199.62331da7.chunk.js","mappings":"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","sources":["config/APICongig.js","views/auth/verify-otp/Verify.js"],"sourcesContent":["\r\n//Live URL\r\nconst url = \"http://thecocoapp.com:8080/api/v1/\";\r\n\r\n//Local URL\r\n// const url = \"http://localhost:3500/api/v1/\";\r\n\r\nconst ApiConfig = {\r\n  loginGenerateOtp: `${url}auth/login/email-with-pin`,\r\n  loginVerifyOtp: `${url}auth/login/verify-otp`,\r\n\r\n  signupGenerateOtp: `${url}auth/signup/generate-otp`,\r\n  signupVerifiedEmail: `${url}auth/signup-with-verfied-email-pin`,\r\n  signupVerifyOtp: `${url}auth/signup/verify-otp`,\r\n\r\n  setPin: `${url}auth/send-otp-for-set-pin`,\r\n  setPinChange: `${url}auth/verify-otp-for-pin-change`,\r\n  resetPin: `${url}auth/reset-pin-password`,\r\n  \r\n\r\n  createChild: `${url}child/create`,\r\n  getSchool: `${url}school/get-all-schools`,\r\n\r\n  //child\r\n  getAllChild: `${url}child/get-all-childs`,\r\n  switchChild: `${url}child/switch-to-active-child`,\r\n  //modules\r\n  allModules : `${url}dashboard/get-all-modules`,\r\n  //leason\r\n  getLeason: `${url}dashboard/get-lessons`,\r\n  //questions\r\n  getQuestions: `${url}dashboard/get-questions`,\r\n  attemptQuestions: `${url}questions/attempt-questions`,\r\n  \r\n};\r\nexport default ApiConfig;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Box, Button, FormControl, Grid, Typography } from \"@mui/material\";\r\nimport { Form, Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport Page from \"src/component/Page\";\r\nimport ApiConfig from \"src/config/APICongig\";\r\nimport axios from \"axios\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport OTPInput from \"otp-input-react\";\r\nimport ButtonCircularProgress from \"src/component/ButtonCircularProgress\";\r\nimport { AuthContext } from \"src/context/Auth\";\r\nimport toast from \"react-hot-toast\";\r\nimport moment from \"moment\";\r\n\r\nconst styles = {\r\n  otpFormControl: {\r\n    \"& input\": {\r\n      color: \"#0B1426\",\r\n      width: \"48px !important\",\r\n      height: \"48px !important\",\r\n      marginRight: \"10px !important\",\r\n      border: \"1px solid #D8D8D8\",\r\n      borderRadius: \"8px\",\r\n      \"@media(max-width:460px)\": {\r\n        width: \"45px !important\",\r\n        height: \"45px !important\",\r\n        marginRight: \"7px !important\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nfunction Verify(props) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const location = useLocation();\r\n  const auth = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const handleFormSubmit = async (values) => {\r\n    setIsLoading(true);\r\n    const url =\r\n      location?.state?.type === \"login\"\r\n        ? ApiConfig.loginVerifyOtp\r\n        : ApiConfig.signupVerifyOtp;\r\n    try {\r\n      const res = await axios.post(url, {\r\n        email: location?.state?.email.email || location?.state?.email,\r\n        otp: values.otp,\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        if (location?.state?.type === \"signUp\") {\r\n          navigate(\"/add-child\");\r\n        } else {\r\n          navigate(\"/dashboard\");\r\n        }\r\n        localStorage.setItem(\"token\", res.data.token);\r\n        toast.success(res.data.message);\r\n        setIsLoading(false);\r\n      }\r\n    } catch (error) {\r\n      toast.error(\r\n        error?.response?.data?.message ||\r\n          \"Something went wrong please try again later\"\r\n      );\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const reSendOTPHandle = async () => {\r\n    const url = ApiConfig.loginGenerateOtp;\r\n    try {\r\n      const res = await axios.post(url, {\r\n        email: location?.state?.email.email || location?.state?.email,\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        toast.success(res.data.message);\r\n        setIsLoading(false);\r\n        auth.setEndTime(moment().add(3, \"m\").unix());\r\n      }\r\n    } catch (error) {\r\n      toast.error(\r\n        error?.response?.data?.message ||\r\n          \"Something went wrong please try again later\"\r\n      );\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Page title=\"Verify\">\r\n      <Box sx={{ display: \"grid\", gap: \"13px\", textAlign: \"center\" }}>\r\n        <Typography variant=\"h1\" color={\"rgba(67, 69, 71, 1)\"} mt={1}>\r\n          Verification\r\n        </Typography>\r\n        <Typography variant=\"h4\" color={\"rgba(67, 69, 71, 1)\"}>\r\n          You will get OTP via email\r\n        </Typography>\r\n        <Formik\r\n          initialValues={{\r\n            otp: \"\",\r\n          }}\r\n          validationSchema={yup.object().shape({\r\n            otp: yup\r\n              .string()\r\n              .length(4, \"OTP must be 4 digits\")\r\n              .required(\"Please enter your OTP.\"),\r\n          })}\r\n          onSubmit={handleFormSubmit}\r\n        >\r\n          {({\r\n            errors,\r\n            handleBlur,\r\n            handleChange,\r\n            handleSubmit,\r\n            touched,\r\n            values,\r\n            setFieldValue,\r\n          }) => (\r\n            <Form onSubmit={handleSubmit}>\r\n              <Grid sx={{ margin: \"13px 0\" }}>\r\n                <Box>\r\n                  <FormControl\r\n                    fullWidth\r\n                    error={Boolean(touched.otp && errors.otp)}\r\n                    sx={styles.otpFormControl}\r\n                  >\r\n                    <OTPInput\r\n                      value={values.otp}\r\n                      inputVariant=\"standard\"\r\n                      autoComplete=\"off\"\r\n                      onChange={(otpValue) => {\r\n                        setFieldValue(\"otp\", otpValue);\r\n                      }}\r\n                      name=\"otp\"\r\n                      id=\"inputID\"\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        width: \"100%\",\r\n                        gap: \"15px\",\r\n                      }}\r\n                      OTPLength={4}\r\n                      otpType=\"number\"\r\n                    />\r\n                  </FormControl>\r\n                  {touched.otp && errors.otp && (\r\n                    <Typography color=\"error\">{errors.otp}</Typography>\r\n                  )}\r\n                </Box>\r\n              </Grid>\r\n\r\n              <Grid>\r\n                <Box sx={{ marginTop: \"26px\" }}>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    disabled={isLoading}\r\n                    fullWidth\r\n                    style={{ maxWidth: \"370px\" }}\r\n                  >\r\n                    Verify\r\n                    {isLoading && <ButtonCircularProgress />}\r\n                  </Button>\r\n                </Box>\r\n                <Box\r\n                  sx={{\r\n                    mt: \"13px\",\r\n                  }}\r\n                >\r\n                  {auth.timeLeft?.minutes > 0 || auth.timeLeft?.seconds > 0 ? (\r\n                    <Typography\r\n                      variant=\"h3\"\r\n                      style={{\r\n                        color:\"rgba(60, 60, 60, 1)\",\r\n                        fontSize: \"18px\",\r\n                        fontStyle: \"normal\",\r\n                        fontWeight: \"500\",\r\n                        lineHeight: \"24px\",\r\n                      }}\r\n                    >                   \r\n                       Resend OTP in           \r\n                      &nbsp;\r\n                      {auth.timeLeft?.minutes?.toString().padStart(2, \"0\")}:\r\n                      {auth.timeLeft?.seconds?.toString().padStart(2, \"0\")}\r\n                      &nbsp;s\r\n                    </Typography>\r\n                  ) : (\r\n                    <Box\r\n                      sx={{\r\n                        display: \"grid\",\r\n                        justifyContent: \"center\",\r\n                        mt: \"13px\",\r\n                      }}\r\n                    >\r\n                      <Typography variant=\"body1\" color={\"rgba(60, 60, 60, 1)\"}>\r\n                        Didnâ€™t get OTP?\r\n                        <span\r\n                          style={{\r\n                            color: \"rgba(0, 186, 242, 1)\",\r\n                            cursor: \"pointer\",\r\n                          }}\r\n                          onClick={reSendOTPHandle}\r\n                        >\r\n                          &nbsp;Resend OTP\r\n                        </span>\r\n                      </Typography>\r\n                    </Box>\r\n                  )}\r\n                </Box>\r\n              </Grid>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Box>\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Verify;\r\n"],"names":["url","loginGenerateOtp","concat","loginVerifyOtp","signupGenerateOtp","signupVerifiedEmail","signupVerifyOtp","setPin","setPinChange","resetPin","createChild","getSchool","getAllChild","switchChild","allModules","getLeason","getQuestions","attemptQuestions","styles","otpFormControl","color","width","height","marginRight","border","borderRadius","props","isLoading","setIsLoading","useState","location","useLocation","auth","useContext","AuthContext","navigate","useNavigate","reSendOTPHandle","async","ApiConfig","_location$state5","_location$state6","res","axios","post","email","state","status","toast","success","data","message","setEndTime","moment","add","unix","error","_error$response2","_error$response2$data","response","_jsx","Page","title","children","_jsxs","Box","sx","display","gap","textAlign","Typography","variant","mt","Formik","initialValues","otp","validationSchema","yup","shape","length","required","onSubmit","_location$state","type","_location$state2","_location$state3","values","_location$state4","localStorage","setItem","token","_error$response","_error$response$data","_ref","_auth$timeLeft","_auth$timeLeft2","_auth$timeLeft3","_auth$timeLeft3$minut","_auth$timeLeft4","_auth$timeLeft4$secon","errors","handleBlur","handleChange","handleSubmit","touched","setFieldValue","Form","Grid","margin","FormControl","fullWidth","Boolean","OTPInput","value","inputVariant","autoComplete","onChange","otpValue","name","id","style","justifyContent","OTPLength","otpType","marginTop","Button","disabled","maxWidth","ButtonCircularProgress","timeLeft","minutes","seconds","fontSize","fontStyle","fontWeight","lineHeight","toString","padStart","cursor","onClick"],"sourceRoot":""}